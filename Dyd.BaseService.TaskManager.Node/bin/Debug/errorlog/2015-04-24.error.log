【时间】2015-04-24 13:11:03:152
【补充信息】sql执行出错sql执行拦截update tb_node set nodeip=@nodeip,nodelastupdatetime=@nodelastupdatetime where id=@id 参数@nodename:新增节点;@nodecreatetime:2015/4/24 13:10:55;@nodeip:DB012;@nodelastupdatetime:2015/4/24 13:10:55;@id:2;
【地址】192.168.17.201
【原始信息】在从服务器接收结果时发生传输级错误。 (provider: TCP Provider, error: 0 - 指定的网络名不再可用。)
【参数】
【堆栈打印】   在 System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   在 System.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   在 System.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   在 System.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   在 System.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   在 System.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   在 System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   在 System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, String methodName, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite)
   在 System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   在 XXF.Db.DbConnSql.<>c__DisplayClass1.<ExecuteSql>b__0() 位置 e:\working\BasicService\XXFramework\project\Xiaoxiao.Framework\Xiaoxiao.Framework\Db\DbConnSql.cs:行号 144
   在 XXF.Db.DbCatch.Catch[T](Boolean istimeWatch, String datasource, String sql, List`1 procedurePar, Func`1 action) 位置 e:\working\BasicService\XXFramework\project\Xiaoxiao.Framework\Xiaoxiao.Framework\Db\DbCatch.cs:行号 48
******************************************************************************************************************************************************
【时间】2015-04-24 13:11:03:259
【补充信息】sql执行出错sql执行拦截select s.* from tb_command s where (s.nodeid=@nodeid or s.nodeid=0) and s.id>@id order by id asc 参数@nodeid:2;@id:56;
【地址】192.168.17.201
【原始信息】在从服务器接收结果时发生传输级错误。 (provider: TCP Provider, error: 0 - 指定的网络名不再可用。)
【参数】
【堆栈打印】   在 System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   在 System.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   在 System.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   在 System.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   在 System.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   在 System.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   在 System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   在 System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   在 System.Data.SqlClient.SqlDataReader.get_MetaData()
   在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   在 System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   在 System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   在 System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   在 System.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   在 System.Data.Common.DbDataAdapter.Fill(DataSet dataSet, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   在 System.Data.Common.DbDataAdapter.Fill(DataSet dataSet)
   在 XXF.Db.DbConnSql.<>c__DisplayClassd.<SqlToDataSet>b__c() 位置 e:\working\BasicService\XXFramework\project\Xiaoxiao.Framework\Xiaoxiao.Framework\Db\DbConnSql.cs:行号 317
   在 XXF.Db.DbCatch.Catch[T](Boolean istimeWatch, String datasource, String sql, List`1 procedurePar, Func`1 action) 位置 e:\working\BasicService\XXFramework\project\Xiaoxiao.Framework\Xiaoxiao.Framework\Db\DbCatch.cs:行号 48
******************************************************************************************************************************************************
【时间】2015-04-24 13:11:03:704
【补充信息】NodeHeartBeatMonitor监控严重错误
【地址】192.168.17.201
【原始信息】在从服务器接收结果时发生传输级错误。 (provider: TCP Provider, error: 0 - 指定的网络名不再可用。)
【参数】
【堆栈打印】   在 XXF.ProjectTool.SqlHelper.Visit[T](Func`2 action) 位置 e:\working\BasicService\XXFramework\project\Xiaoxiao.Framework\Xiaoxiao.Framework\ProjectTool\SqlHelper.cs:行号 237
   在 Dyd.BaseService.TaskManager.Domain.Dal.tb_node_dal.AddOrUpdate(DbConn PubConn, tb_node_model model) 位置 e:\working\BasicService\Dyd.BaseService.TaskManager\Dyd.BaseService.TaskManager.Domain\Dal\tb_node_dal.cs:行号 17
   在 Dyd.BaseService.TaskManager.Node.SystemMonitor.NodeHeartBeatMonitor.<Run>b__1(DbConn c) 位置 e:\working\BasicService\Dyd.BaseService.TaskManager\Dyd.BaseService.TaskManager.Node\SystemMonitor\NodeHeartBeatMonitor.cs:行号 29
   在 XXF.ProjectTool.SqlHelper.ExcuteSql(String connectstring, Action`1 action) 位置 e:\working\BasicService\XXFramework\project\Xiaoxiao.Framework\Xiaoxiao.Framework\ProjectTool\SqlHelper.cs:行号 258
   在 Dyd.BaseService.TaskManager.Node.SystemMonitor.NodeHeartBeatMonitor.Run() 位置 e:\working\BasicService\Dyd.BaseService.TaskManager\Dyd.BaseService.TaskManager.Node\SystemMonitor\NodeHeartBeatMonitor.cs:行号 26
   在 Dyd.BaseService.TaskManager.Node.SystemMonitor.BaseMonitor.TryRun() 位置 e:\working\BasicService\Dyd.BaseService.TaskManager\Dyd.BaseService.TaskManager.Node\SystemMonitor\BaseMonitor.cs:行号 34
******************************************************************************************************************************************************
【时间】2015-04-24 13:11:03:708
【补充信息】获取当前节点命令集错误
【地址】192.168.17.201
【原始信息】在从服务器接收结果时发生传输级错误。 (provider: TCP Provider, error: 0 - 指定的网络名不再可用。)
【参数】
【堆栈打印】   在 XXF.ProjectTool.SqlHelper.Visit[T](Func`2 action) 位置 e:\working\BasicService\XXFramework\project\Xiaoxiao.Framework\Xiaoxiao.Framework\ProjectTool\SqlHelper.cs:行号 237
   在 Dyd.BaseService.TaskManager.Domain.Dal.tb_command_dal.GetNodeCommands(DbConn PubConn, Int32 nodeid, Int32 lastmaxid) 位置 e:\working\BasicService\Dyd.BaseService.TaskManager\Dyd.BaseService.TaskManager.Domain\Dal\tb_command_dal.cs:行号 17
   在 Dyd.BaseService.TaskManager.Node.CommandQueueProcessor.<>c__DisplayClass8.<RuningCommandLoop>b__4(DbConn c) 位置 e:\working\BasicService\Dyd.BaseService.TaskManager\Dyd.BaseService.TaskManager.Node\CommandQueueProcessor.cs:行号 105
   在 XXF.ProjectTool.SqlHelper.ExcuteSql(String connectstring, Action`1 action) 位置 e:\working\BasicService\XXFramework\project\Xiaoxiao.Framework\Xiaoxiao.Framework\ProjectTool\SqlHelper.cs:行号 258
   在 Dyd.BaseService.TaskManager.Node.CommandQueueProcessor.RuningCommandLoop() 位置 e:\working\BasicService\Dyd.BaseService.TaskManager\Dyd.BaseService.TaskManager.Node\CommandQueueProcessor.cs:行号 100
******************************************************************************************************************************************************
